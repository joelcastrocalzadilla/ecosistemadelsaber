<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Cuenta con Tito el Payasito ðŸ¤¡</title>
  <style>
    body {
      font-family: 'Comic Sans MS', sans-serif;
      text-align: center;
      background: linear-gradient(135deg, #ffecb3, #ffe0b2);
      margin: 0;
      padding: 0;
    }
    #tito {
      font-size: 5em;
      cursor: pointer;
      margin-top: 40px;
      animation: brincar 1.5s infinite alternate;
    }
    @keyframes brincar {
      from { transform: translateY(0); }
      to { transform: translateY(-20px); }
    }
    #contador {
      font-size: 4em;
      color: #d32f2f;
      margin-top: 20px;
    }
    #emojiZona {
      margin-top: 20px;
      font-size: 2em;
    }
    #imagenZona img {
      max-width: 150px;
      margin: 10px;
      animation: aparecer 0.8s ease-out;
    }
    @keyframes aparecer {
      from { transform: scale(0.3); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    .confeti {
      position: absolute;
      top: 0;
      font-size: 2em;
      animation: caer 2s linear forwards;
    }
    @keyframes caer {
      to { top: 100%; opacity: 0; }
    }
    .animado {
      animation: payasoZoom 0.8s ease-out;
    }
    @keyframes payasoZoom {
      0% {
        transform: scale(0.3) rotate(0deg);
        opacity: 0.3;
        color: #f57c00;
      }
      100% {
        transform: scale(1.4) rotate(360deg);
        opacity: 1;
        color: #c2185b;
      }
    }
  </style>
</head>
<body>
  <h1>Â¡Cuenta con Tito el Payasito! ðŸ¤¡ðŸŽª</h1>
  <div id="tito" onclick="contar()">ðŸ¤¡</div>
  <div id="contador">0</div>
  <div id="emojiZona"></div>
  <div id="imagenZona"></div>

  <!-- MÃºsica de circo libre -->
  <audio id="musicaFondo" src="https://cdn.pixabay.com/download/audio/2023/03/28/audio_0f6c4f9e2e.mp3?filename=funny-clown-music-142994.mp3" loop></audio>
  <audio id="triunfo" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_3c8e3b8f9f.mp3?filename=triumph-fanfare-101524.mp3"></audio>

<script>
  let cuenta = 0;
  let musicaActivada = false;

  const contador = document.getElementById("contador");
  const emojiZona = document.getElementById("emojiZona");
  const imagenZona = document.getElementById("imagenZona");
  const triunfo = document.getElementById("triunfo");
  const musica = document.getElementById("musicaFondo");

  const frasesPayaso = [
    "Â¡Unooo! Como un gorra gigante bailando salsa.",
    "Â¡Dos! Como dos zapatos brincando.",
    "Â¡Tres! Como tres Frutas saltando en la pista.",
    "Â¡Cuatro! Como cuatro frutas bailando en ronda.",
    "Â¡Cinco! Como cinco conejos saltarines.",
    "Â¡Seis! Como seis globos girando en el aire.",
    "Â¡Siete! Como siete globos de colores.",
    "Â¡Ocho! Como ocho globos de disfrutando un carnaval.",
    "Â¡Nueve! Como nueve globos de colores animando una fiesta.",
    "Â¡Diez! Como diez globos de colores."
  ];

  const imagenes = {
    2: "a2zapatos.jpg",
    3: "a3frutas.jpg",
    5: "a5conejos.png",
    4: "afrutas.jpg",
    1: "agorra.png"

    
    // Del 7 al 10 se usa globo.png por defecto
  };

  function contar() {
    if (!musicaActivada) {
      musica.play();
      musica.volume = 1;
      musicaActivada = true;
      decir("Â¡Que suene el circooo!");
    }

    cuenta++;
    contador.innerText = cuenta;
    contador.classList.add("animado");
    setTimeout(() => contador.classList.remove("animado"), 800);

    const frase = frasesPayaso[cuenta - 1] || `Â¡${cuenta}! Tito dice que eres increÃ­ble.`;
    decir(frase);

    const estrella = document.createElement("span");
    estrella.innerText = "ðŸŽˆ";
    emojiZona.appendChild(estrella);

    mostrarImagen(cuenta);

    if (cuenta % 5 === 0) {
      lanzarConfeti();
      triunfo.play();
      decir("Â¡Esooo! Â¡Tito estÃ¡ feliz!");
    }
  }

  function decir(texto) {
    const voz = new SpeechSynthesisUtterance(texto);
    voz.lang = 'es-MX';
    voz.rate = 1.0;
    voz.pitch = 1.4;
    voz.volume = 1;

    const voces = speechSynthesis.getVoices();
    const vozPayaso = voces.find(v => v.name.includes("Sabina") || v.lang === "es-MX");
    if (vozPayaso) voz.voice = vozPayaso;

    speechSynthesis.speak(voz);
  }

  function mostrarImagen(numero) {
    imagenZona.innerHTML = "";
    const img = document.createElement("img");
    img.src = imagenes[numero] || "globo.png"; // Imagen por defecto si no hay especÃ­fica
    imagenZona.appendChild(img);
  }

  function lanzarConfeti() {
    for (let i = 0; i < 25; i++) {
      const confeti = document.createElement("div");
      confeti.className = "confeti";
      confeti.innerText = ["ðŸŽ‰", "âœ¨", "ðŸŽŠ", "ðŸŽˆ"][Math.floor(Math.random() * 4)];
      confeti.style.left = `${Math.random() * window.innerWidth}px`;
      document.body.appendChild(confeti);
      setTimeout(() => document.body.removeChild(confeti), 2000);
    }
  }

  window.speechSynthesis.onvoiceschanged = () => {};
</script>
</body>
</html>

