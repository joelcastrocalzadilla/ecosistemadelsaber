<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Practicando sÃ­labas con la Abuelita</title>
<style>
  body { font-family: sans-serif; text-align: center; background: #e3f2fd; }
  input, button { font-size: 1.5em; margin: 10px; padding: 10px; border-radius: 8px; }
  #silabaMostrada { font-size: 5em; margin-top: 20px; transition: transform 0.5s, color 0.5s; }
  #imagenes { font-size: 3em; margin-top: 10px; }
  #saludo { font-size: 1.2em; margin-top: 10px; color: #333; }
  .animar { color: #d32f2f; transform: scale(1.3); animation: parpadeo 1s ease-in-out 2; }
  @keyframes parpadeo { 0%, 100% { opacity: 1; } 50% { opacity: 0.2; } }
</style>
</head>
<body>
  <h1>Practicando sÃ­labas con la Abuelita</h1>
  <input id="nombre" placeholder="Tu nombre">
  <button onclick="iniciar()">Comenzar</button>
  <button onclick="repetirSilaba()">ğŸ” Repetir</button>
  <div id="saludo"></div>
  <input id="entrada" maxlength="3" placeholder="pa" oninput="decirSilaba()">
  <div id="silabaMostrada"></div>
  <div id="imagenes"></div>

<script>
let voces = [];
let nombreNiÃ±o = "niÃ±o";
let timerInactividad;
let ultimaSilaba = "";

// OBJETO EJEMPLOS CORREGIDO (sin duplicados y con comas y cierre correcto)
const ejemplos = {
  // C
  "ca":[["casa","ğŸ "],["cama","ğŸ›ï¸"],["cangrejo","ğŸ¦€"]],
  "ce":[["celular","ğŸ“±"],["cereza","ğŸ’"],["cebra","ğŸ¦“"]],
  "ci":[["cielo","â˜ï¸"],["cinta","ğŸ€"],["cigarra","ğŸ¦—"]],
  "co":[["coco","ğŸ¥¥"],["conejo","ğŸ‡"],["corazÃ³n","â¤ï¸"]],
  "cu":[["cubo","ğŸ§Š"],["cuchara","ğŸ¥„"],["cuerda","ğŸª¢"]],
  // P
  "pa":[["pato","ğŸ¦†"],["papa","ğŸ¥”"],["paleta","ğŸ­"]],
  "pe":[["pera","ğŸ"],["pelota","âš½"],["perro","ğŸ¶"]],
  "pi":[["pino","ğŸŒ²"],["piedra","ğŸª¨"],["pintura","ğŸ¨"]],
  "po":[["pollo","ğŸ”"],["polo","ğŸ­"],["portÃ³n","ğŸšª"]],
  "pu":[["pulpo","ğŸ™"],["puma","ğŸ†"],["pupusa","ğŸ¥Ÿ"]],
  // M
  "ma":[["mano","âœ‹"],["mango","ğŸ¥­"],["mapa","ğŸ—ºï¸"]],
  "me":[["mesa","ğŸª‘"],["melÃ³n","ğŸˆ"],["medalla","ğŸ…"]],
  "mi":[["miel","ğŸ¯"],["mimo","ğŸ¤¡"],["misa","â›ª"]],
  "mo":[["mono","ğŸ’"],["moto","ğŸï¸"],["mÃ³vil","ğŸ“±"]],
  "mu":[["mujer","ğŸ‘©"],["mÃºsica","ğŸµ"],["muela","ğŸ¦·"]],
  // B
  "ba":[["barco","â›µ"],["bala","ğŸ’£"],["banana","ğŸŒ"]],
  "be":[["bebÃ©","ğŸ‘¶"],["berenjena","ğŸ†"],["beso","ğŸ’‹"]],
  "bi":[["bicicleta","ğŸš²"],["bigote","ğŸ‘¨"],["billete","ğŸ’µ"]],
  "bo":[["bola","âš½"],["bolsa","ğŸ›ï¸"],["bota","ğŸ‘¢"]],
  "bu":[["burro","ğŸ´"],["bÃºho","ğŸ¦‰"],["buque","ğŸš¢"]],
  // D
  "da":[["dado","ğŸ²"],["dama","ğŸ‘©"],["dardo","ğŸ¯"]],
  "de":[["dedo","â˜ï¸"],["delantal","ğŸ‘©â€ğŸ³"],["desierto","ğŸœï¸"]],
  "di":[["dibujo","ğŸ¨"],["diente","ğŸ¦·"],["dinosaurio","ğŸ¦–"]],
  "do":[["dona","ğŸ©"],["dormir","ğŸ˜´"],["dÃ³lar","ğŸ’µ"]],
  "du":[["dulce","ğŸ¬"],["duende","ğŸ§"],["duna","ğŸ–ï¸"]],
  // F
  "fa":[["faro","ğŸ—¼"],["faja","ğŸ§£"],["familia","ğŸ‘¨â€ğŸ‘©â€ğŸ‘§"]],
  "fe":[["feliz","ğŸ˜Š"],["foca","ğŸ¦­"],["fresa","ğŸ“"]],
  "fi":[["fideo","ğŸœ"],["filtro","ğŸ§ƒ"],["fÃ­sica","ğŸ“˜"]],
  "fo":[["foco","ğŸ’¡"],["fogata","ğŸ”¥"],["forma","ğŸ“"]],
  "fu":[["fuego","ğŸ”¥"],["futbol","âš½"],["fumar","ğŸš¬"]],
  // G
  "ga":[["gato","ğŸ±"],["gallo","ğŸ“"],["gafas","ğŸ‘“"]],
  "ge":[["gema","ğŸ’"],["gelatina","ğŸ®"],["gente","ğŸ§‘"]],
  "gi":[["girasol","ğŸŒ»"],["guitarra","ğŸ¸"],["gigante","ğŸ§Œ"]],
  "go":[["gorra","ğŸ§¢"],["gota","ğŸ’§"],["gol","ğŸ¥…"]],
  "gu":[["gusano","ğŸª±"],["guante","ğŸ§¤"],["guÃ­a","ğŸ“–"]],
  // H
  "ha":[["hacha","ğŸª“"],["hamburguesa","ğŸ”"],["harina","ğŸŒ¾"]],
  "he":[["helado","ğŸ¦"],["hermano","ğŸ‘¦"],["herradura","ğŸ"]],
  "hi":[["hielo","ğŸ§Š"],["hilo","ğŸ§µ"],["hipopÃ³tamo","ğŸ¦›"]],
  "ho":[["hoja","ğŸƒ"],["hongo","ğŸ„"],["hotel","ğŸ¨"]],
  "hu":[["huevo","ğŸ¥š"],["humo","ğŸ’¨"],["huracÃ¡n","ğŸŒ€"]],
  // J
  "ja":[["jardÃ­n","ğŸŒ»"],["jarrÃ³n","ğŸº"],["jamÃ³n","ğŸ¥“"]],
  "je":[["jefe","ğŸ‘¨â€ğŸ’¼"],["jersey","ğŸ‘•"],["jet","âœˆï¸"]],
  "ji":[["jirafa","ğŸ¦’"],["jinete","ğŸ¤ "],["jingle","ğŸ¶"]],
  "jo":[["joven","ğŸ§‘"],["juego","ğŸ®"],["joya","ğŸ’"]],
  "ju":[["jugo","ğŸ§ƒ"],["juguete","ğŸ§¸"],["jungla","ğŸŒ´"]],
  // N
  "na":[["naranja","ğŸŠ"],["nave","ğŸš€"],["nariz","ğŸ‘ƒ"]],
  "ne":[["nene","ğŸ‘¶"],["nieve","â„ï¸"],["neÃ³n","ğŸ’¡"]],
  "ni":[["nido","ğŸªº"],["niÃ±a","ğŸ‘§"],["nieve","â›„"]],
  "no":[["noche","ğŸŒ™"],["nube","â˜ï¸"],["nota","ğŸµ"]],
  "nu":[["nÃºmero","ğŸ”¢"],["nuez","ğŸŒ°"],["nudo","ğŸª¢"]],
  // V
  "va":[["vaca","ğŸ„"],["vaso","ğŸ¥›"],["valle","â›°ï¸"]],
  "ve":[["vela","ğŸ•¯ï¸"],["verde","ğŸ’š"],["ventana","ğŸªŸ"]],
  "vi":[["vino","ğŸ·"],["vida","ğŸŒ±"],["violÃ­n","ğŸ»"]],
  "vo":[["volcÃ¡n","ğŸŒ‹"],["voz","ğŸ—£ï¸"],["volante","ğŸ•¹ï¸"]],
  "vu":[["vuelo","âœˆï¸"],["vuelta","ğŸ”„"],["vulcano","ğŸŒ‹"]],
  // Y
  "ya":[["yate","ğŸ›¥ï¸"],["yema","ğŸ¥š"],["yegua","ğŸ"]],
  "ye":[["yema","ğŸŒ±"],["yerba","ğŸŒ¿"],["yeso","ğŸ©¹"]],
  "yi":[["yiyo","ğŸ‘¦"],["yira","ğŸ‘§"],["yip","ğŸš™"]],
  "yo":[["yoyo","ğŸª€"],["yogur","ğŸ¥›"],["yoga","ğŸ§˜"]],
  "yu":[["yuca","ğŸ¥”"],["yunque","âš’ï¸"],["yuyo","ğŸŒ¿"]],
  // Z
  "za":[["zapato","ğŸ‘"],["zanahoria","ğŸ¥•"],["zorro","ğŸ¦Š"]],
  "ze":[["zebra","ğŸ¦“"],["zen","ğŸ§˜"],["zepelÃ­n","ğŸˆ"]],
  "zi":[["zigzag","ã€°ï¸"],["zip","ğŸ—œï¸"],["zinc","âš™ï¸"]],
  "zo":[["zorro","ğŸ¦Š"],["zoolÃ³gico","ğŸ…"],["zona","ğŸ“"]],
  "zu":[["zumo","ğŸ§ƒ"],["zurdo","âœ‹"],["zueco","ğŸ‘¡"]],
  // CH
  "cha":[["chango","ğŸ’"],["chicle","ğŸ¬"],["chico","ğŸ‘¦"]],
  "che":[["cheque","ğŸ’µ"],["chela","ğŸº"],["chelo","ğŸ»"]],
  "chi":[["chile","ğŸŒ¶ï¸"],["chico","ğŸ‘¦"],["chiste","ğŸ˜‚"]],
  "cho":[["chocolate","ğŸ«"],["chorizo","ğŸŒ­"],["choza","ğŸšï¸"]],
  "chu":[["churro","ğŸ¥–"],["chucho","ğŸ¶"],["chupÃ³n","ğŸ¼"]],
  // LL
  "lla":[["llama","ğŸ¦™"],["llave","ğŸ”‘"],["llanto","ğŸ˜­"]],
  "lle":[["lleno","ğŸ“¦"],["llevar","ğŸš¶"],["llenura","ğŸ½ï¸"]],
  "lli":[["lima","ğŸ‹"],["lirio","ğŸŒ¸"],["lindo","ğŸ™‚"]],
  "llo":[["lloro","ğŸ˜­"],["llover","ğŸŒ§ï¸"],["llovizna","ğŸŒ¦ï¸"]],
  "llu":[["lluvia","ğŸŒ§ï¸"],["lluvioso","â˜”"],["lluviÃ³n","ğŸ’¦"]],
  // Ã‘
  "Ã±a":[["Ã±andÃº","ğŸ¦¤"],["Ã±ame","ğŸ "],["Ã±andutÃ­","ğŸ§µ"]],
  "Ã±e":[["Ã±ero","ğŸ‘¦"],["Ã±epa","ğŸ¤·"],["Ã±ejas","ğŸ‘µ"]],
  "Ã±i":[["Ã±ique","ğŸªµ"],["Ã±iqui","ğŸ¤­"],["Ã±isca","ğŸ„"]],
  "Ã±o":[["Ã±oÃ±o","ğŸ¤“"],["Ã±oquis","ğŸ¥Ÿ"],["Ã±or","ğŸ‘´"]],
  "Ã±u":[["Ã±u","ğŸƒ"],["Ã±udo","ğŸª¢"],["Ã±ublar","ğŸŒ«ï¸"]],
  // Q (tres letras aceptadas por maxlength=3)
  "que":[["queso","ğŸ§€"],["quemar","ğŸ”¥"],["querer","â¤ï¸"]],
  "qui":[["quinto","5ï¸âƒ£"],["quÃ­mica","âš—ï¸"],["quijote","ğŸ“–"]]
}; // <- cierre correcto del objeto

function cargarVoces() {
  voces = speechSynthesis.getVoices();
  if (voces.length === 0) setTimeout(cargarVoces, 500);
}
speechSynthesis.onvoiceschanged = cargarVoces;
cargarVoces();

function hablar(texto){
  if (voces.length === 0) voces = speechSynthesis.getVoices();
  const utter = new SpeechSynthesisUtterance(texto);
  utter.lang = "es-ES";
  utter.rate = 0.9;
  const voz = voces.find(v => v.lang.startsWith("es"));
  if (voz) utter.voice = voz;
  speechSynthesis.cancel();
  speechSynthesis.speak(utter);
}

function iniciar(){
  const nombreIngresado = document.getElementById("nombre").value.trim();
  if(nombreIngresado) nombreNiÃ±o = nombreIngresado;
  const mensaje = `Â¡Hola, hola ${nombreNiÃ±o}! Â¡QuÃ© alegrÃ­a tenerte aquÃ­! Escribe una sÃ­laba para comenzar.`;
  document.getElementById("saludo").textContent = mensaje;
  hablar(mensaje);
  reiniciarTimer();
}

function reiniciarTimer(){
  clearTimeout(timerInactividad);
  timerInactividad = setTimeout(()=>{
    const mensaje = `Â¡Ey ${nombreNiÃ±o}! Â¿QuÃ© pasa? Sigamos practicando, cambia la sÃ­laba...`;
    document.getElementById("saludo").textContent = mensaje;
    hablar(mensaje);
  }, 20000);
}

function animarSilaba(){
  const elem = document.getElementById("silabaMostrada");
  elem.classList.add("animar");
  setTimeout(()=> elem.classList.remove("animar"), 1500);
}

function decirSilaba(){
  reiniciarTimer();
  const silaba = (document.getElementById("entrada").value || "").toLowerCase();
  if(!silaba.match(/^[a-zÃ±]{1,3}$/i)) return;

  // Validaciones pedagÃ³gicas
  const vocales = "aeiou";
  if(silaba.length === 1){
    hablar(`Eso no es una sÃ­laba, ${nombreNiÃ±o}. Debes poner una consonante y una vocal.`);
    return;
  }
  if(silaba.length === 2){
    const c1 = silaba.charAt(0), c2 = silaba.charAt(1);
    if(vocales.includes(c1) && vocales.includes(c2)){
      hablar(`Eso no es una sÃ­laba, ${nombreNiÃ±o}. No se pueden dos vocales seguidas. Intenta consonante + vocal.`);
      return;
    }
    if(!vocales.includes(c1) && !vocales.includes(c2)){
      hablar(`Eso no es una sÃ­laba, ${nombreNiÃ±o}. No se pueden dos consonantes seguidas. Intenta consonante + vocal.`);
      return;
    }
  }

  ultimaSilaba = silaba;
  document.getElementById("silabaMostrada").textContent = silaba.toUpperCase();
  animarSilaba();

  const lista = ejemplos[silaba] || [];
  if(lista.length === 0){
    hablar(`Lo siento ${nombreNiÃ±o}, no tengo ejemplos para la sÃ­laba ${silaba}. Intenta con otra.`);
    document.getElementById("imagenes").innerHTML = "";
    return;
  }

  const letra = silaba.charAt(0);
  const vocal = silaba.charAt(1) || "";
  const explicacion = `Escucha bien... la letra "${letra}" con la "${vocal}" se lee "${silaba}".`;
  const ejemplosTexto = `${silaba} de ${lista.map(p => p[0]).join(", ")}. Â¡Muy bien, ${nombreNiÃ±o}!`;

  hablar(explicacion + " " + ejemplosTexto);
  document.getElementById("imagenes").innerHTML = lista.map(p => p[1]).join(" ");
}

function repetirSilaba(){
  if(!ultimaSilaba) return;
  const lista = ejemplos[ultimaSilaba] || [];
  if(lista.length === 0){
    hablar(`Lo siento ${nombreNiÃ±o}, no tengo ejemplos para la sÃ­laba ${ultimaSilaba}.`);
    return;
  }
  const letra = ultimaSilaba.charAt(0);
  const vocal = ultimaSilaba.charAt(1) || "";
  const explicacion = `La letra "${letra}" con la "${vocal}" se lee "${ultimaSilaba}".`;
  const ejemplosTexto = `${ultimaSilaba} de ${lista.map(p => p[0]).join(", ")}. Â¡Excelente!`;

  hablar(explicacion + " " + ejemplosTexto);
  document.getElementById("imagenes").innerHTML = lista.map(p => p[1]).join(" ");
  animarSilaba();
}
</script>
</body>
</html>






