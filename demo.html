<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Practicando sílabas con la Abuelita</title>
<style>
  body { font-family: sans-serif; text-align: center; background: #e3f2fd; }
  input, button { font-size: 1.5em; margin: 10px; padding: 10px; border-radius: 8px; }
  #silabaMostrada { font-size: 5em; margin-top: 20px; transition: transform 0.5s, color 0.5s; }
  #imagenes { font-size: 3em; margin-top: 10px; }
  #saludo { font-size: 1.2em; margin-top: 10px; color: #333; }
  .animar {
    color: #d32f2f;
    transform: scale(1.3);
    animation: parpadeo 1s ease-in-out 2;
  }
  @keyframes parpadeo {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.2; }
  }
</style>
</head>
<body>
  <h1>Practicando sílabas con la Abuelita</h1>
  <input id="nombre" placeholder="Tu nombre">
  <button onclick="iniciar()">Comenzar</button>
  <button onclick="repetirSilaba()">🔁 Repetir</button>
  <div id="saludo"></div>
  <input id="entrada" maxlength="3" placeholder="pa" oninput="decirSilaba()">
  <div id="silabaMostrada"></div>
  <div id="imagenes"></div>

<script>
let voces = [];
let nombreNiño = "niño";
let timerInactividad;
let ultimaSilaba = "";
const ejemplos = {
   "pa":[["pato","🦆"],["papa","🥔"],["paleta","🍭"]],
    "pe":[["pera","🍐"],["pelota","⚽"],["perro","🐶"]],
    "pi":[["pino","🌲"],["piedra","🪨"],["pintura","🎨"]],
    "po":[["pollo","🐔"],["polo","🍭"],["portón","🚪"]],
    "pu":[["pulpo","🐙"],["puma","🐆"],["pupusa","🥟"]],
  // M
    "ma":[["mano","✋"],["mango","🥭"],["mapa","🗺️"]],
    "me":[["mesa","🪑"],["melón","🍈"],["medalla","🏅"]],
    "mi":[["miel","🍯"],["mimo","🤡"],["misa","⛪"]],
    "mo":[["mono","🐒"],["moto","🏍️"],["móvil","📱"]],
    "mu":[["mujer","👩"],["música","🎵"],["muela","🦷"]],
    // B
    "ba":[["barco","⛵"],["bala","💣"],["banana","🍌"]],
    "be":[["bebé","👶"],["berenjena","🍆"],["beso","💋"]],
    "bi":[["bicicleta","🚲"],["bigote","👨"],["billete","💵"]],
    "bo":[["bola","⚽"],["bolsa","🛍️"],["bota","👢"]],
    "bu":[["burro","🐴"],["búho","🦉"],["buque","🚢"]],
    // D
    "da":[["dado","🎲"],["dama","👩"],["dardo","🎯"]],
    "de":[["dedo","☝️"],["delantal","👩‍🍳"],["desierto","🏜️"]],
    "di":[["dibujo","🎨"],["diente","🦷"],["dinosaurio","🦖"]],
    "do":[["dona","🍩"],["dormir","😴"],["dólar","💵"]],
    "du":[["dulce","🍬"],["duende","🧝"],["duna","🏖️"]],

    // F
    "fa":[["faro","🗼"],["faja","🧣"],["familia","👨‍👩‍👧"]],
    "fe":[["feliz","😊"],["foca","🦭"],["fresa","🍓"]],
    "fi":[["fideo","🍜"],["filtro","🧃"],["física","📘"]],
    "fo":[["foco","💡"],["fogata","🔥"],["forma","📐"]],
    "fu":[["fuego","🔥"],["futbol","⚽"],["fumar","🚬"]],

    // G
    "ga":[["gato","🐱"],["gallo","🐓"],["gafas","👓"]],
    "ge":[["gema","💎"],["gelatina","🍮"],["gente","🧑"]],
    "gi":[["girasol","🌻"],["guitarra","🎸"],["gigante","🧌"]],
    "go":[["gorra","🧢"],["gota","💧"],["gol","🥅"]],
    "gu":[["gusano","🪱"],["guante","🧤"],["guía","📖"]],
    // J
    "ja":[["jardín","🌻"],["jarrón","🏺"],["jamón","🥓"]],
    "je":[["jefe","👨‍💼"],["jersey","👕"],["jet","✈️"]],
    "ji":[["jirafa","🦒"],["jinete","🤠"],["jingle","🎶"]],
    "jo":[["joven","🧑"],["juego","🎮"],["joya","💍"]],
    "ju":[["jugo","🧃"],["juguete","🧸"],["jungla","🌴"]],

    // L
    "la":[["lago","🏞️"],["lámpara","💡"],["lata","🥫"]],
    "le":[["leche","🥛"],["león","🦁"],["letra","🔤"]],
    "li":[["libro","📖"],["limón","🍋"],["lirio","🌸"]],
    "lo":[["lobo","🐺"],["loro","🦜"],["loma","⛰️"]],
    "lu":[["luna","🌙"],["luz","💡"],["lupa","🔍"]],

    // N
    "na":[["naranja","🍊"],["nave","🚀"],["nariz","👃"]],
    "ne":[["nene","👶"],["nieve","❄️"],["neón","💡"]],
    "ni":[["nido","🪺"],["niña","👧"],["nieve","⛄"]],
    "no":[["noche","🌙"],["nube","☁️"],["nota","🎵"]],
    "nu":[["número","🔢"],["nuez","🌰"],["nudo","🪢"]],

    // R
    "ra":[["rana","🐸"],["radio","📻"],["ramo","💐"]],
    "re":[["regalo","🎁"],["reloj","⌚"],["rey","🤴"]],
    "ri":[["río","🌊"],["rico","😋"],["rifa","🎟️"]],
    "ro":[["rosa","🌹"],["robot","🤖"],["ropa","👕"]],
    "ru":[["rueda","⚙️"],["rulo","➰"],["runa","🔮"]],

    // S
    "sa":[["sapo","🐸"],["sandía","🍉"],["sala","🛋️"]],
    "se":[["semilla","🌱"],["serpiente","🐍"],["señal","🚦"]],
    "si":[["silla","🪑"],["sierra","🪚"],["sirena","🧜"]],
    "so":[["sol","☀️"],["sombrero","👒"],["sopa","🍲"]],
    "su":[["suma","➕"],["sueño","💤"],["suerte","🍀"]],

    // T
    "ta":[["taza","☕"],["taco","🌮"],["tallo","🌿"]],
    "te":[["teléfono","📱"],["tenedor","🍴"],["techo","🏠"]],
    "ti":[["tigre","🐯"],["tiza","✏️"],["tierra","🌍"]],
    "to":[["toro","🐂"],["tomate","🍅"],["torta","🍰"]],
    "tu":[["tubo","🧪"],["tulipán","🌷"],["túnel","🚇"]],

    // H
    "ha":[["hacha","🪓"],["hamburguesa","🍔"],["harina","🌾"]],
    "he":[["helado","🍦"],["hermano","👦"],["herradura","🐎"]],
    "hi":[["hielo","🧊"],["hilo","🧵"],["hipopótamo","🦛"]],
    "ho":[["hoja","🍃"],["hongo","🍄"],["hotel","🏨"]],
    "hu":[["huevo","🥚"],["humo","💨"],["huracán","🌀"]],
    // C
    "ca":[["casa","🏠"],["cama","🛏️"],["cangrejo","🦀"]],
    "ce":[["celular","📱"],["cereza","🍒"],["cebra","🦓"]],
    "ci":[["cielo","☁️"],["cinta","🎀"],["cigarra","🦗"]],
    "co":[["coco","🥥"],["conejo","🐇"],["corazón","❤️"]],
    "cu":[["cubo","🧊"],["cuchara","🥄"],["cuerda","🪢"]],
    "pa":[["pato","🦆"],["papa","🥔"],["paleta","🍭"]],
    "pe":[["pera","🍐"],["pelota","⚽"],["perro","🐶"]],
    "pi":[["pino","🌲"],["piedra","🪨"],["pintura","🎨"]],
    "po":[["pollo","🐔"],["polo","🍭"],["portón","🚪"]],
    "pu":[["pulpo","🐙"],["puma","🐆"],["pupusa","🥟"]],
    "ma":[["mano","✋"],["mango","🥭"],["mapa","🗺️"]],
    "me":[["mesa","🪑"],["melón","🍈"],["medalla","🏅"]],
    "mi":[["miel","🍯"],["mimo","🤡"],["misa","⛪"]],
    "mo":[["mono","🐒"],["moto","🏍️"],["móvil","📱"]],
    "mu":[["mujer","👩"],["música","🎵"],["muela","🦷"]],
    "ba":[["barco","⛵"],["bala","💣"],["banana","🍌"]],
    "be":[["bebé","👶"],["berenjena","🍆"],["beso","💋"]],
    "bi":[["bicicleta","🚲"],["bigote","👨"],["billete","💵"]],
    "bo":[["bola","⚽"],["bolsa","🛍️"],["bota","👢"]],
    "bu":[["burro","🐴"],["búho","🦉"],["buque","🚢"]],
    "ca":[["casa","🏠"],["cama","🛏️"],["cangrejo","🦀"]],
    "ce":[["celular","📱"],["cereza","🍒"],["cebra","🦓"]],
    "ci":[["cielo","☁️"],["cinta","🎀"],["cigarra","🦗"]],
    "co":[["coco","🥥"],["conejo","🐇"],["corazón","❤️"]],
    "cu":[["cubo","🧊"],["cuchara","🥄"],["cuerda","🪢"]],
    "da":[["dado","🎲"],["dama","👩"],["dardo","🎯"]],
    "de":[["dedo","☝️"],["delantal","👩‍🍳"],["desierto","🏜️"]],
    "di":[["dibujo","🎨"],["diente","🦷"],["dinosaurio","🦖"]],
    "do":[["dona","🍩"],["dormir","😴"],["dólar","💵"]],
    "du":[["dulce","🍬"],["duende","🧝"],["duna","🏖️"]],
    "fa":[["faro","🗼"],["faja","🧣"],["familia","👨‍👩‍👧"]],
    "fe":[["feliz","😊"],["foca","🦭"],["fresa","🍓"]],
    "fi":[["fideo","🍜"],["filtro","🧃"],["física","📘"]],
    "fo":[["foco","💡"],["fogata","🔥"],["forma","📐"]],
    "fu":[["fuego","🔥"],["futbol","⚽"],["fumar","🚬"]],
    "ga":[["gato","🐱"],["gallo","🐓"],["gafas","👓"]],
    "ge":[["gema","💎"],["gelatina","🍮"],["gente","🧑"]],
    "gi":[["girasol","🌻"],["guitarra","🎸"],["gigante","🧌"]],
    "go":[["gorra","🧢"],["gota","💧"],["gol","🥅"]],
    "gu":[["gusano","🪱"],["guante","🧤"],["guía","📖"]],
    "ha":[["hacha","🪓"],["hamburguesa","🍔"],["harina","🌾"]],
    "he":[["helado","🍦"],["hermano","👦"],["herradura","🐎"]],
    "hi":[["hielo","🧊"],["hilo","🧵"],["hipopótamo","🦛"]],
    "ho":[["hoja","🍃"],["hongo","🍄"],["hotel","🏨"]],
    "hu":[["huevo","🥚"],["humo","💨"],["huracán","🌀"]],
        // J
    "ja":[["jardín","🌻"],["jarrón","🏺"],["jamón","🥓"]],
    "je":[["jefe","👨‍💼"],["jersey","👕"],["jet","✈️"]],
    "ji":[["jirafa","🦒"],["jinete","🤠"],["jingle","🎶"]],
    "jo":[["joven","🧑"],["juego","🎮"],["joya","💍"]],
    "ju":[["jugo","🧃"],["juguete","🧸"],["jungla","🌴"]],

    // N
    "na":[["naranja","🍊"],["nave","🚀"],["nariz","👃"]],
    "ne":[["nene","👶"],["nieve","❄️"],["neón","💡"]],
    "ni":[["nido","🪺"],["niña","👧"],["nieve","⛄"]],
    "no":[["noche","🌙"],["nube","☁️"],["nota","🎵"]],
    "nu":[["número","🔢"],["nuez","🌰"],["nudo","🪢"]]

    // V
    "va":[["vaca","🐄"],["vaso","🥛"],["valle","⛰️"]],
    "ve":[["vela","🕯️"],["verde","💚"],["ventana","🪟"]],
    "vi":[["vino","🍷"],["vida","🌱"],["violín","🎻"]],
    "vo":[["volcán","🌋"],["voz","🗣️"],["volante","🕹️"]],
    "vu":[["vuelo","✈️"],["vuelta","🔄"],["vulcán","🌋"]],

    // Y
    "ya":[["yate","🛥️"],["yema","🥚"],["yegua","🐎"]],
    "ye":[["yema","🌱"],["yerba","🌿"],["yeso","🩹"]],
    "yi":[["yiyo","👦"],["yira","👧"],["yip","🚙"]],
    "yo":[["yoyo","🪀"],["yogur","🥛"],["yoga","🧘"]],
    "yu":[["yuca","🥔"],["yunque","⚒️"],["yuyo","🌿"]],

    // Z
    "za":[["zapato","👞"],["zanahoria","🥕"],["zorro","🦊"]],
    "ze":[["zebra","🦓"],["zen","🧘"],["zepelín","🎈"]],
    "zi":[["zigzag","〰️"],["zip","🗜️"],["zinc","⚙️"]],
    "zo":[["zorro","🦊"],["zoológico","🐅"],["zona","📍"]],
    "zu":[["zumo","🧃"],["zurdo","✋"],["zueco","👡"]],

    // CH
    "cha":[["chango","🐒"],["chicle","🍬"],["chico","👦"]],
    "che":[["cheque","💵"],["chela","🍺"],["chelo","🎻"]],
    "chi":[["chile","🌶️"],["chico","👦"],["chiste","😂"]],
    "cho":[["chocolate","🍫"],["chorizo","🌭"],["choza","🏚️"]],
    "chu":[["churro","🥖"],["chucho","🐶"],["chupón","🍼"]],

    // LL
    "lla":[["llama","🦙"],["llave","🔑"],["llanto","😭"]],
    "lle":[["lleno","📦"],["llevar","🚶"],["lleno","🍽️"]],
    "lli":[["llino","🌾"],["llimar","🪚"],["llirios","🌸"]],
    "llo":[["lloro","😭"],["llover","🌧️"],["llovizna","🌦️"]],
    "llu":[["lluvia","🌧️"],["lluvioso","☔"],["lluvión","💦"]],

    // Ñ
    "ña":[["ñandú","🦤"],["ñame","🍠"],["ñandutí","🧵"]],
    "ñe":[["ñero","👦"],["ñepa","🤷"],["ñejas","👵"]],
    "ñi":[["ñique","🪵"],["ñiqui","🤭"],["ñisca","🍄"]],
    "ño":[["ñoño","🤓"],["ñoquis","🥟"],["ñor","👴"]],
    "ñu":[["ñu","🐃"],["ñudo","🪢"],["ñublar","🌫️"]],

    // Q
    "que":[["queso","🧀"],["quemar","🔥"],["querer","❤️"]],
    "qui":[["quinto","5️⃣"],["quinto","📏"],["química","⚗️"]],
    "qua":[["quark","⚛️"],["quasar","✨"],["quadro","🖼️"]],
    "quo":[["quorum","👥"],["quorum","📊"],["quorum","📋"]],
  };
 
  };

function cargarVoces() {
  voces = speechSynthesis.getVoices();
  if (voces.length === 0) setTimeout(cargarVoces, 500);
}
speechSynthesis.onvoiceschanged = cargarVoces;
cargarVoces();

function hablar(texto){
  if (voces.length === 0) voces = speechSynthesis.getVoices();
  let utter = new SpeechSynthesisUtterance(texto);
  utter.lang = "es-ES";
  utter.rate = 0.8;
  let voz = voces.find(v => v.lang.startsWith("es"));
  if (voz) utter.voice = voz;
  speechSynthesis.cancel();
  speechSynthesis.speak(utter);
}

function iniciar(){
  let nombreIngresado = document.getElementById("nombre").value.trim();
  if(nombreIngresado) nombreNiño = nombreIngresado;
  let mensaje = `¡Hola, hola ${nombreNiño}!¡Qué alegría tenerte aquí! Vamos a jugar con las sílabas, escribe una para comenzar.`;
  document.getElementById("saludo").textContent = mensaje;
  hablar(mensaje);
  reiniciarTimer();
}

function reiniciarTimer(){
  clearTimeout(timerInactividad);
  timerInactividad = setTimeout(()=>{
    let mensaje = `¡Ey ${nombreNiño}! ¿Qué pasa? Sigamos practicando, cambia la sílaba...`;
    document.getElementById("saludo").textContent = mensaje;
    hablar(mensaje);
  }, 20000);
}

function animarSilaba(){
  let elem = document.getElementById("silabaMostrada");
  elem.classList.add("animar");
  setTimeout(()=> elem.classList.remove("animar"), 1500);
}

function decirSilaba(){
  reiniciarTimer();
  let silaba = document.getElementById("entrada").value.toLowerCase();
  if(!silaba.match(/^[a-zñ]{1,3}$/i)) return;

  // Validaciones pedagógicas
  if(silaba.length === 1){
    hablar(`Eso no es una sílaba, ${nombreNiño}. Debes poner una consonante y una vocal.`);
    return;
  }
  if(silaba.length === 2){
    let c1 = silaba.charAt(0);
    let c2 = silaba.charAt(1);
    let vocales = "aeiou";
    if((vocales.includes(c1) && vocales.includes(c2))){
      hablar(`Eso no es una sílaba, ${nombreNiño}. No se pueden poner dos vocales seguidas. Intenta con consonante más vocal.`);
      return;
    }
    if(!vocales.includes(c1) && !vocales.includes(c2)){
      hablar(`Eso no es una sílaba, ${nombreNiño}. No se pueden poner dos consonantes seguidas. Intenta con consonante más vocal.`);
      return;
    }
  }

  ultimaSilaba = silaba;
  document.getElementById("silabaMostrada").textContent = silaba.toUpperCase();
  animarSilaba();

  let lista = ejemplos[silaba] || [];
  if(lista.length === 0){
    hablar(`Lo siento ${nombreNiño}, no tengo ejemplos para la sílaba ${silaba}. Intenta con otra.`);
    document.getElementById("imagenes").innerHTML = "";
    return;
  }

  let letra = silaba.charAt(0);
  let vocal = silaba.charAt(1) || "";
  let explicacion = `Escucha bien por favor... la letra "${letra}" con la "${vocal}" se lee "${silaba}". Repito: "${silaba}".`;
  let ejemplosTexto = `${silaba} de ${lista.map(p => p[0]).join(", ")}. ¡Muy bien ${nombreNiño}!`;

  hablar(explicacion + " " + ejemplosTexto);
  document.getElementById("imagenes").innerHTML = lista.map(p => p[1]).join(" ");
}

function repetirSilaba(){
  if(!ultimaSilaba) return;

  let lista = ejemplos[ultimaSilaba] || [];
  if(lista.length === 0){
    hablar(`Lo siento ${nombreNiño}, no tengo ejemplos para la sílaba ${ultimaSilaba}.`);
    return;
  }

  let letra = ultimaSilaba.charAt(0);
  let vocal = ultimaSilaba.charAt(1) || "";
  let explicacion = `Escucha bien por favor... la letra "${letra}" con la "${vocal}" se lee "${ultimaSilaba}". Repito: "${ultimaSilaba}".`;
  let ejemplosTexto = `${ultimaSilaba} de ${lista.map(p => p[0]).join(", ")}. ¡Muy bien ${nombreNiño}!`;

  hablar(explicacion + " " + ejemplosTexto);
  document.getElementById("imagenes").innerHTML = lista.map(p => p[1]).join(" ");
  animarSilaba();
}
</script>
</body>
</html>







