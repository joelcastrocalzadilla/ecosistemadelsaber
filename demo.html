<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Practicando s√≠labas con la Abuelita</title>
<style>
  body { font-family: sans-serif; text-align: center; background: #e3f2fd; }
  input, button { font-size: 1.5em; margin: 10px; padding: 10px; border-radius: 8px; }
  #silabaMostrada { font-size: 5em; margin-top: 20px; transition: transform 0.5s, color 0.5s; }
  #imagenes { font-size: 3em; margin-top: 10px; }
  #saludo { font-size: 1.2em; margin-top: 10px; color: #333; }
  .animar {
    color: #d32f2f;
    transform: scale(1.3);
    animation: parpadeo 1s ease-in-out 2;
  }
  @keyframes parpadeo {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.2; }
  }
</style>
</head>
<body>
  <h1>Practicando s√≠labas con la Abuelita</h1>
  <input id="nombre" placeholder="Tu nombre">
  <button onclick="iniciar()">Comenzar</button>
  <button onclick="repetirSilaba()">üîÅ Repetir</button>
  <div id="saludo"></div>
  <input id="entrada" maxlength="3" placeholder="pa" oninput="decirSilaba()">
  <div id="silabaMostrada"></div>
  <div id="imagenes"></div>

<script>
let voces = [];
let nombreNi√±o = "ni√±o";
let timerInactividad;
let ultimaSilaba = "";
const ejemplos = {
   "pa":[["pato","ü¶Ü"],["papa","ü•î"],["paleta","üç≠"]],
    "pe":[["pera","üçê"],["pelota","‚öΩ"],["perro","üê∂"]],
    "pi":[["pino","üå≤"],["piedra","ü™®"],["pintura","üé®"]],
    "po":[["pollo","üêî"],["polo","üç≠"],["port√≥n","üö™"]],
    "pu":[["pulpo","üêô"],["puma","üêÜ"],["pupusa","ü•ü"]],
  // M
    "ma":[["mano","‚úã"],["mango","ü•≠"],["mapa","üó∫Ô∏è"]],
    "me":[["mesa","ü™ë"],["mel√≥n","üçà"],["medalla","üèÖ"]],
    "mi":[["miel","üçØ"],["mimo","ü§°"],["misa","‚õ™"]],
    "mo":[["mono","üêí"],["moto","üèçÔ∏è"],["m√≥vil","üì±"]],
    "mu":[["mujer","üë©"],["m√∫sica","üéµ"],["muela","ü¶∑"]],
    // B
    "ba":[["barco","‚õµ"],["bala","üí£"],["banana","üçå"]],
    "be":[["beb√©","üë∂"],["berenjena","üçÜ"],["beso","üíã"]],
    "bi":[["bicicleta","üö≤"],["bigote","üë®"],["billete","üíµ"]],
    "bo":[["bola","‚öΩ"],["bolsa","üõçÔ∏è"],["bota","üë¢"]],
    "bu":[["burro","üê¥"],["b√∫ho","ü¶â"],["buque","üö¢"]],
    // D
    "da":[["dado","üé≤"],["dama","üë©"],["dardo","üéØ"]],
    "de":[["dedo","‚òùÔ∏è"],["delantal","üë©‚Äçüç≥"],["desierto","üèúÔ∏è"]],
    "di":[["dibujo","üé®"],["diente","ü¶∑"],["dinosaurio","ü¶ñ"]],
    "do":[["dona","üç©"],["dormir","üò¥"],["d√≥lar","üíµ"]],
    "du":[["dulce","üç¨"],["duende","üßù"],["duna","üèñÔ∏è"]],

    // F
    "fa":[["faro","üóº"],["faja","üß£"],["familia","üë®‚Äçüë©‚Äçüëß"]],
    "fe":[["feliz","üòä"],["foca","ü¶≠"],["fresa","üçì"]],
    "fi":[["fideo","üçú"],["filtro","üßÉ"],["f√≠sica","üìò"]],
    "fo":[["foco","üí°"],["fogata","üî•"],["forma","üìê"]],
    "fu":[["fuego","üî•"],["futbol","‚öΩ"],["fumar","üö¨"]],

    // G
    "ga":[["gato","üê±"],["gallo","üêì"],["gafas","üëì"]],
    "ge":[["gema","üíé"],["gelatina","üçÆ"],["gente","üßë"]],
    "gi":[["girasol","üåª"],["guitarra","üé∏"],["gigante","üßå"]],
    "go":[["gorra","üß¢"],["gota","üíß"],["gol","ü•Ö"]],
    "gu":[["gusano","ü™±"],["guante","üß§"],["gu√≠a","üìñ"]],
    // J
    "ja":[["jard√≠n","üåª"],["jarr√≥n","üè∫"],["jam√≥n","ü•ì"]],
    "je":[["jefe","üë®‚Äçüíº"],["jersey","üëï"],["jet","‚úàÔ∏è"]],
    "ji":[["jirafa","ü¶í"],["jinete","ü§†"],["jingle","üé∂"]],
    "jo":[["joven","üßë"],["juego","üéÆ"],["joya","üíç"]],
    "ju":[["jugo","üßÉ"],["juguete","üß∏"],["jungla","üå¥"]],

    // L
    "la":[["lago","üèûÔ∏è"],["l√°mpara","üí°"],["lata","ü•´"]],
    "le":[["leche","ü•õ"],["le√≥n","ü¶Å"],["letra","üî§"]],
    "li":[["libro","üìñ"],["lim√≥n","üçã"],["lirio","üå∏"]],
    "lo":[["lobo","üê∫"],["loro","ü¶ú"],["loma","‚õ∞Ô∏è"]],
    "lu":[["luna","üåô"],["luz","üí°"],["lupa","üîç"]],

    // N
    "na":[["naranja","üçä"],["nave","üöÄ"],["nariz","üëÉ"]],
    "ne":[["nene","üë∂"],["nieve","‚ùÑÔ∏è"],["ne√≥n","üí°"]],
    "ni":[["nido","ü™∫"],["ni√±a","üëß"],["nieve","‚õÑ"]],
    "no":[["noche","üåô"],["nube","‚òÅÔ∏è"],["nota","üéµ"]],
    "nu":[["n√∫mero","üî¢"],["nuez","üå∞"],["nudo","ü™¢"]],

    // R
    "ra":[["rana","üê∏"],["radio","üìª"],["ramo","üíê"]],
    "re":[["regalo","üéÅ"],["reloj","‚åö"],["rey","ü§¥"]],
    "ri":[["r√≠o","üåä"],["rico","üòã"],["rifa","üéüÔ∏è"]],
    "ro":[["rosa","üåπ"],["robot","ü§ñ"],["ropa","üëï"]],
    "ru":[["rueda","‚öôÔ∏è"],["rulo","‚û∞"],["runa","üîÆ"]],

    // S
    "sa":[["sapo","üê∏"],["sand√≠a","üçâ"],["sala","üõãÔ∏è"]],
    "se":[["semilla","üå±"],["serpiente","üêç"],["se√±al","üö¶"]],
    "si":[["silla","ü™ë"],["sierra","ü™ö"],["sirena","üßú"]],
    "so":[["sol","‚òÄÔ∏è"],["sombrero","üëí"],["sopa","üç≤"]],
    "su":[["suma","‚ûï"],["sue√±o","üí§"],["suerte","üçÄ"]],

    // T
    "ta":[["taza","‚òï"],["taco","üåÆ"],["tallo","üåø"]],
    "te":[["tel√©fono","üì±"],["tenedor","üç¥"],["techo","üè†"]],
    "ti":[["tigre","üêØ"],["tiza","‚úèÔ∏è"],["tierra","üåç"]],
    "to":[["toro","üêÇ"],["tomate","üçÖ"],["torta","üç∞"]],
    "tu":[["tubo","üß™"],["tulip√°n","üå∑"],["t√∫nel","üöá"]],

    // H
    "ha":[["hacha","ü™ì"],["hamburguesa","üçî"],["harina","üåæ"]],
    "he":[["helado","üç¶"],["hermano","üë¶"],["herradura","üêé"]],
    "hi":[["hielo","üßä"],["hilo","üßµ"],["hipop√≥tamo","ü¶õ"]],
    "ho":[["hoja","üçÉ"],["hongo","üçÑ"],["hotel","üè®"]],
    "hu":[["huevo","ü•ö"],["humo","üí®"],["hurac√°n","üåÄ"]],
    // C
    "ca":[["casa","üè†"],["cama","üõèÔ∏è"],["cangrejo","ü¶Ä"]],
    "ce":[["celular","üì±"],["cereza","üçí"],["cebra","ü¶ì"]],
    "ci":[["cielo","‚òÅÔ∏è"],["cinta","üéÄ"],["cigarra","ü¶ó"]],
    "co":[["coco","ü••"],["conejo","üêá"],["coraz√≥n","‚ù§Ô∏è"]],
    "cu":[["cubo","üßä"],["cuchara","ü•Ñ"],["cuerda","ü™¢"]],
    "pa":[["pato","ü¶Ü"],["papa","ü•î"],["paleta","üç≠"]],
    "pe":[["pera","üçê"],["pelota","‚öΩ"],["perro","üê∂"]],
    "pi":[["pino","üå≤"],["piedra","ü™®"],["pintura","üé®"]],
    "po":[["pollo","üêî"],["polo","üç≠"],["port√≥n","üö™"]],
    "pu":[["pulpo","üêô"],["puma","üêÜ"],["pupusa","ü•ü"]],
    "ma":[["mano","‚úã"],["mango","ü•≠"],["mapa","üó∫Ô∏è"]],
    "me":[["mesa","ü™ë"],["mel√≥n","üçà"],["medalla","üèÖ"]],
    "mi":[["miel","üçØ"],["mimo","ü§°"],["misa","‚õ™"]],
    "mo":[["mono","üêí"],["moto","üèçÔ∏è"],["m√≥vil","üì±"]],
    "mu":[["mujer","üë©"],["m√∫sica","üéµ"],["muela","ü¶∑"]],
    "ba":[["barco","‚õµ"],["bala","üí£"],["banana","üçå"]],
    "be":[["beb√©","üë∂"],["berenjena","üçÜ"],["beso","üíã"]],
    "bi":[["bicicleta","üö≤"],["bigote","üë®"],["billete","üíµ"]],
    "bo":[["bola","‚öΩ"],["bolsa","üõçÔ∏è"],["bota","üë¢"]],
    "bu":[["burro","üê¥"],["b√∫ho","ü¶â"],["buque","üö¢"]],
    "ca":[["casa","üè†"],["cama","üõèÔ∏è"],["cangrejo","ü¶Ä"]],
    "ce":[["celular","üì±"],["cereza","üçí"],["cebra","ü¶ì"]],
    "ci":[["cielo","‚òÅÔ∏è"],["cinta","üéÄ"],["cigarra","ü¶ó"]],
    "co":[["coco","ü••"],["conejo","üêá"],["coraz√≥n","‚ù§Ô∏è"]],
    "cu":[["cubo","üßä"],["cuchara","ü•Ñ"],["cuerda","ü™¢"]],
    "da":[["dado","üé≤"],["dama","üë©"],["dardo","üéØ"]],
    "de":[["dedo","‚òùÔ∏è"],["delantal","üë©‚Äçüç≥"],["desierto","üèúÔ∏è"]],
    "di":[["dibujo","üé®"],["diente","ü¶∑"],["dinosaurio","ü¶ñ"]],
    "do":[["dona","üç©"],["dormir","üò¥"],["d√≥lar","üíµ"]],
    "du":[["dulce","üç¨"],["duende","üßù"],["duna","üèñÔ∏è"]],
    "fa":[["faro","üóº"],["faja","üß£"],["familia","üë®‚Äçüë©‚Äçüëß"]],
    "fe":[["feliz","üòä"],["foca","ü¶≠"],["fresa","üçì"]],
    "fi":[["fideo","üçú"],["filtro","üßÉ"],["f√≠sica","üìò"]],
    "fo":[["foco","üí°"],["fogata","üî•"],["forma","üìê"]],
    "fu":[["fuego","üî•"],["futbol","‚öΩ"],["fumar","üö¨"]],
    "ga":[["gato","üê±"],["gallo","üêì"],["gafas","üëì"]],
    "ge":[["gema","üíé"],["gelatina","üçÆ"],["gente","üßë"]],
    "gi":[["girasol","üåª"],["guitarra","üé∏"],["gigante","üßå"]],
    "go":[["gorra","üß¢"],["gota","üíß"],["gol","ü•Ö"]],
    "gu":[["gusano","ü™±"],["guante","üß§"],["gu√≠a","üìñ"]],
    "ha":[["hacha","ü™ì"],["hamburguesa","üçî"],["harina","üåæ"]],
    "he":[["helado","üç¶"],["hermano","üë¶"],["herradura","üêé"]],
    "hi":[["hielo","üßä"],["hilo","üßµ"],["hipop√≥tamo","ü¶õ"]],
    "ho":[["hoja","üçÉ"],["hongo","üçÑ"],["hotel","üè®"]],
    "hu":[["huevo","ü•ö"],["humo","üí®"],["hurac√°n","üåÄ"]],
        // J
    "ja":[["jard√≠n","üåª"],["jarr√≥n","üè∫"],["jam√≥n","ü•ì"]],
    "je":[["jefe","üë®‚Äçüíº"],["jersey","üëï"],["jet","‚úàÔ∏è"]],
    "ji":[["jirafa","ü¶í"],["jinete","ü§†"],["jingle","üé∂"]],
    "jo":[["joven","üßë"],["juego","üéÆ"],["joya","üíç"]],
    "ju":[["jugo","üßÉ"],["juguete","üß∏"],["jungla","üå¥"]],

    // N
    "na":[["naranja","üçä"],["nave","üöÄ"],["nariz","üëÉ"]],
    "ne":[["nene","üë∂"],["nieve","‚ùÑÔ∏è"],["ne√≥n","üí°"]],
    "ni":[["nido","ü™∫"],["ni√±a","üëß"],["nieve","‚õÑ"]],
    "no":[["noche","üåô"],["nube","‚òÅÔ∏è"],["nota","üéµ"]],
    "nu":[["n√∫mero","üî¢"],["nuez","üå∞"],["nudo","ü™¢"]]

    // V
    "va":[["vaca","üêÑ"],["vaso","ü•õ"],["valle","‚õ∞Ô∏è"]],
    "ve":[["vela","üïØÔ∏è"],["verde","üíö"],["ventana","ü™ü"]],
    "vi":[["vino","üç∑"],["vida","üå±"],["viol√≠n","üéª"]],
    "vo":[["volc√°n","üåã"],["voz","üó£Ô∏è"],["volante","üïπÔ∏è"]],
    "vu":[["vuelo","‚úàÔ∏è"],["vuelta","üîÑ"],["vulc√°n","üåã"]],

    // Y
    "ya":[["yate","üõ•Ô∏è"],["yema","ü•ö"],["yegua","üêé"]],
    "ye":[["yema","üå±"],["yerba","üåø"],["yeso","ü©π"]],
    "yi":[["yiyo","üë¶"],["yira","üëß"],["yip","üöô"]],
    "yo":[["yoyo","ü™Ä"],["yogur","ü•õ"],["yoga","üßò"]],
    "yu":[["yuca","ü•î"],["yunque","‚öíÔ∏è"],["yuyo","üåø"]],

    // Z
    "za":[["zapato","üëû"],["zanahoria","ü•ï"],["zorro","ü¶ä"]],
    "ze":[["zebra","ü¶ì"],["zen","üßò"],["zepel√≠n","üéà"]],
    "zi":[["zigzag","„Ä∞Ô∏è"],["zip","üóúÔ∏è"],["zinc","‚öôÔ∏è"]],
    "zo":[["zorro","ü¶ä"],["zool√≥gico","üêÖ"],["zona","üìç"]],
    "zu":[["zumo","üßÉ"],["zurdo","‚úã"],["zueco","üë°"]],

    // CH
    "cha":[["chango","üêí"],["chicle","üç¨"],["chico","üë¶"]],
    "che":[["cheque","üíµ"],["chela","üç∫"],["chelo","üéª"]],
    "chi":[["chile","üå∂Ô∏è"],["chico","üë¶"],["chiste","üòÇ"]],
    "cho":[["chocolate","üç´"],["chorizo","üå≠"],["choza","üèöÔ∏è"]],
    "chu":[["churro","ü•ñ"],["chucho","üê∂"],["chup√≥n","üçº"]],

    // LL
    "lla":[["llama","ü¶ô"],["llave","üîë"],["llanto","üò≠"]],
    "lle":[["lleno","üì¶"],["llevar","üö∂"],["lleno","üçΩÔ∏è"]],
    "lli":[["llino","üåæ"],["llimar","ü™ö"],["llirios","üå∏"]],
    "llo":[["lloro","üò≠"],["llover","üåßÔ∏è"],["llovizna","üå¶Ô∏è"]],
    "llu":[["lluvia","üåßÔ∏è"],["lluvioso","‚òî"],["lluvi√≥n","üí¶"]],

    // √ë
    "√±a":[["√±and√∫","ü¶§"],["√±ame","üç†"],["√±andut√≠","üßµ"]],
    "√±e":[["√±ero","üë¶"],["√±epa","ü§∑"],["√±ejas","üëµ"]],
    "√±i":[["√±ique","ü™µ"],["√±iqui","ü§≠"],["√±isca","üçÑ"]],
    "√±o":[["√±o√±o","ü§ì"],["√±oquis","ü•ü"],["√±or","üë¥"]],
    "√±u":[["√±u","üêÉ"],["√±udo","ü™¢"],["√±ublar","üå´Ô∏è"]],

    // Q
    "que":[["queso","üßÄ"],["quemar","üî•"],["querer","‚ù§Ô∏è"]],
    "qui":[["quinto","5Ô∏è‚É£"],["quinto","üìè"],["qu√≠mica","‚öóÔ∏è"]],
    "qua":[["quark","‚öõÔ∏è"],["quasar","‚ú®"],["quadro","üñºÔ∏è"]],
    "quo":[["quorum","üë•"],["quorum","üìä"],["quorum","üìã"]],
  };
 
  };

function cargarVoces() {
  voces = speechSynthesis.getVoices();
  if (voces.length === 0) setTimeout(cargarVoces, 500);
}
speechSynthesis.onvoiceschanged = cargarVoces;
cargarVoces();

function hablar(texto){
  if (voces.length === 0) voces = speechSynthesis.getVoices();
  let utter = new SpeechSynthesisUtterance(texto);
  utter.lang = "es-ES";
  utter.rate = 0.8;
  let voz = voces.find(v => v.lang.startsWith("es"));
  if (voz) utter.voice = voz;
  speechSynthesis.cancel();
  speechSynthesis.speak(utter);
}

function iniciar(){
  let nombreIngresado = document.getElementById("nombre").value.trim();
  if(nombreIngresado) nombreNi√±o = nombreIngresado;
  let mensaje = `¬°Hola, hola ${nombreNi√±o}!¬°Qu√© alegr√≠a tenerte aqu√≠! Vamos a jugar con las s√≠labas, escribe una para comenzar.`;
  document.getElementById("saludo").textContent = mensaje;
  hablar(mensaje);
  reiniciarTimer();
}

function reiniciarTimer(){
  clearTimeout(timerInactividad);
  timerInactividad = setTimeout(()=>{
    let mensaje = `¬°Ey ${nombreNi√±o}! ¬øQu√© pasa? Sigamos practicando, cambia la s√≠laba...`;
    document.getElementById("saludo").textContent = mensaje;
    hablar(mensaje);
  }, 20000);
}

function animarSilaba(){
  let elem = document.getElementById("silabaMostrada");
  elem.classList.add("animar");
  setTimeout(()=> elem.classList.remove("animar"), 1500);
}

function decirSilaba(){
  reiniciarTimer();
  let silaba = document.getElementById("entrada").value.toLowerCase();
  if(!silaba.match(/^[a-z√±]{1,3}$/i)) return;

  // Validaciones pedag√≥gicas
  if(silaba.length === 1){
    hablar(`Eso no es una s√≠laba, ${nombreNi√±o}. Debes poner una consonante y una vocal.`);
    return;
  }
  if(silaba.length === 2){
    let c1 = silaba.charAt(0);
    let c2 = silaba.charAt(1);
    let vocales = "aeiou";
    if((vocales.includes(c1) && vocales.includes(c2))){
      hablar(`Eso no es una s√≠laba, ${nombreNi√±o}. No se pueden poner dos vocales seguidas. Intenta con consonante m√°s vocal.`);
      return;
    }
    if(!vocales.includes(c1) && !vocales.includes(c2)){
      hablar(`Eso no es una s√≠laba, ${nombreNi√±o}. No se pueden poner dos consonantes seguidas. Intenta con consonante m√°s vocal.`);
      return;
    }
  }

  ultimaSilaba = silaba;
  document.getElementById("silabaMostrada").textContent = silaba.toUpperCase();
  animarSilaba();

  let lista = ejemplos[silaba] || [];
  if(lista.length === 0){
    hablar(`Lo siento ${nombreNi√±o}, no tengo ejemplos para la s√≠laba ${silaba}. Intenta con otra.`);
    document.getElementById("imagenes").innerHTML = "";
    return;
  }

  let letra = silaba.charAt(0);
  let vocal = silaba.charAt(1) || "";
  let explicacion = `Escucha bien por favor... la letra "${letra}" con la "${vocal}" se lee "${silaba}". Repito: "${silaba}".`;
  let ejemplosTexto = `${silaba} de ${lista.map(p => p[0]).join(", ")}. ¬°Muy bien ${nombreNi√±o}!`;

  hablar(explicacion + " " + ejemplosTexto);
  document.getElementById("imagenes").innerHTML = lista.map(p => p[1]).join(" ");
}

function repetirSilaba(){
  if(!ultimaSilaba) return;

  let lista = ejemplos[ultimaSilaba] || [];
  if(lista.length === 0){
    hablar(`Lo siento ${nombreNi√±o}, no tengo ejemplos para la s√≠laba ${ultimaSilaba}.`);
    return;
  }

  let letra = ultimaSilaba.charAt(0);
  let vocal = ultimaSilaba.charAt(1) || "";
  let explicacion = `Escucha bien por favor... la letra "${letra}" con la "${vocal}" se lee "${ultimaSilaba}". Repito: "${ultimaSilaba}".`;
  let ejemplosTexto = `${ultimaSilaba} de ${lista.map(p => p[0]).join(", ")}. ¬°Muy bien ${nombreNi√±o}!`;

  hablar(explicacion + " " + ejemplosTexto);
  document.getElementById("imagenes").innerHTML = lista.map(p => p[1]).join(" ");
  animarSilaba();
}
</script>
</body>
</html>







