<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Pr√°ctica del Inter√©s</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; background-color: #f4f4f4; }
    h1 { color: #2c3e50; }
    label, select, input { display: block; margin: 10px 0; }
    input, select { padding: 8px; width: 300px; }
    button { padding: 10px 20px; background-color: #2c3e50; color: white; border: none; cursor: pointer; }
    .resultado { background-color: #e0f7fa; padding: 20px; margin-top: 20px; border-radius: 8px; display: none; }
    .error { color: red; margin-top: 10px; }
  </style>
</head>
<body>

  <h1>üß™ Pr√°ctica del Inter√©s</h1>

  <label for="tipoInteres">Tipo de inter√©s:</label>
  <select id="tipoInteres">
    <option value="">-- Selecciona --</option>
    <option value="simple">Inter√©s Simple</option>
    <option value="compuesto">Inter√©s Compuesto</option>
  </select>

  <label for="capital">Capital (C):</label>
  <input type="number" id="capital" placeholder="Ej: 1000">

  <label for="tasa">Tasa (%):</label>
  <input type="number" id="tasa" placeholder="Ej: 10">
  <select id="tipoTasa">
    <option value="anual">Anual</option>
    <option value="mensual">Mensual</option>
    <option value="trimestral">Trimestral</option>
    <option value="semestral">Semestral</option>
  </select>

  <label for="tiempo">Tiempo (t):</label>
  <input type="number" id="tiempo" placeholder="Ej: 3">
  <select id="tipoTiempo">
    <option value="a√±os">A√±os</option>
    <option value="meses">Meses</option>
    <option value="trimestres">Trimestres</option>
    <option value="semestral">Semestres</option>
  </select>

  <label for="interes">Inter√©s ganado (I):</label>
  <input type="number" id="interes" placeholder="Dejar vac√≠o si se desea calcular">

  <label for="monto">Monto final (M):</label>
  <input type="number" id="monto" placeholder="Dejar vac√≠o si se desea calcular">

  <button onclick="calcular()">Calcular</button>

  <div class="error" id="error"></div>
  <div class="resultado" id="resultado"></div>
  <script>
    function convertirTiempo(tiempo, tipoTiempo, tipoTasa) {
      const conversion = {
        anual: { a√±os: 1, meses: 1/12, trimestres: 1/4, semestral: 1/2 },
        mensual: { a√±os: 12, meses: 1, trimestres: 3, semestral: 6 },
        trimestral: { a√±os: 4, meses: 1/3, trimestres: 1, semestral: 2 },
        semestral: { a√±os: 2, meses: 1/6, trimestres: 1/2, semestral: 1 }
      };
      return tiempo * conversion[tipoTasa][tipoTiempo];
    }

    function calcular() {
      const tipoInteres = document.getElementById("tipoInteres").value;
      const C = parseFloat(document.getElementById("capital").value);
      const r = parseFloat(document.getElementById("tasa").value) / 100;
      const tipoTasa = document.getElementById("tipoTasa").value;
      const t = parseFloat(document.getElementById("tiempo").value);
      const tipoTiempo = document.getElementById("tipoTiempo").value;
      const I = parseFloat(document.getElementById("interes").value);
      const M = parseFloat(document.getElementById("monto").value);

      const errorDiv = document.getElementById("error");
      const resultadoDiv = document.getElementById("resultado");
      errorDiv.textContent = "";
      resultadoDiv.style.display = "none";

      const tiempoConvertido = convertirTiempo(t, tipoTiempo, tipoTasa);
      let formula = "", sustitucion = "", resultado = "", montoFinal = "";

      if (tipoInteres === "simple") {
        if (isNaN(I)) {
          const interes = C * r * tiempoConvertido;
          formula = "I = C √ó r √ó t";
          sustitucion = `I = ${C} √ó ${r} √ó ${tiempoConvertido.toFixed(2)} (convertido de ${t} ${tipoTiempo})`;
          resultado = `Inter√©s ganado: $${interes.toFixed(2)}`;
          montoFinal = C + interes;
        } else if (isNaN(C)) {
          const capital = I / (r * tiempoConvertido);
          formula = "C = I / (r √ó t)";
          sustitucion = `C = ${I} / (${r} √ó ${tiempoConvertido.toFixed(2)})`;
          resultado = `Capital: $${capital.toFixed(2)}`;
          montoFinal = capital + I;
        } else if (isNaN(r)) {
          const tasa = I / (C * tiempoConvertido);
          formula = "r = I / (C √ó t)";
          sustitucion = `r = ${I} / (${C} √ó ${tiempoConvertido.toFixed(2)})`;
          resultado = `Tasa: ${(tasa * 100).toFixed(2)}%`;
          montoFinal = C + I;
        } else if (isNaN(t)) {
          const tiempo = I / (C * r);
          formula = "t = I / (C √ó r)";
          sustitucion = `t = ${I} / (${C} √ó ${r})`;
          resultado = `Tiempo: ${tiempo.toFixed(2)} ${tipoTasa}`;
          montoFinal = C + I;
        } else if (isNaN(M)) {
          const monto = C + I;
          formula = "M = C + I";
          sustitucion = `M = ${C} + ${I}`;
          resultado = `Monto final: $${monto.toFixed(2)}`;
          montoFinal = monto;
        }
      }

      else if (tipoInteres === "compuesto") {
        if (isNaN(M)) {
          const monto = C * Math.pow(1 + r, tiempoConvertido);
          formula = "M = C √ó (1 + r)^t";
          sustitucion = `M = ${C} √ó (1 + ${r})^${tiempoConvertido.toFixed(2)} (convertido de ${t} ${tipoTiempo})`;
          resultado = `Monto final: $${monto.toFixed(2)}`;
          montoFinal = monto;
        } else if (isNaN(C)) {
          const capital = M / Math.pow(1 + r, tiempoConvertido);
          formula = "C = M / (1 + r)^t";
          sustitucion = `C = ${M} / (1 + ${r})^${tiempoConvertido.toFixed(2)}`;
          resultado = `Capital: $${capital.toFixed(2)}`;
          montoFinal = M;
        } else if (isNaN(r)) {
          const tasa = Math.pow(M / C, 1 / tiempoConvertido) - 1;
          formula = "r = (M / C)^(1/t) - 1";
          sustitucion = `r = (${M} / ${C})^(1/${tiempoConvertido.toFixed(2)}) - 1`;
          resultado = `Tasa: ${(tasa * 100).toFixed(2)}%`;
          montoFinal = M;
        } else if (isNaN(t)) {
          const tiempo = Math.log(M / C) / Math.log(1 + r);
          formula = "t = log(M / C) / log(1 + r)";
          sustitucion = `t = log(${M} / ${C}) / log(1 + ${r})`;
          resultado = `Tiempo: ${tiempo.toFixed(2)} ${tipoTasa}`;
          montoFinal = M;
        } else if (isNaN(I)) {
          const interes = C * Math.pow(1 + r, tiempoConvertido) - C;
          formula = "I = M - C";
          sustitucion = `I = (${C} √ó (1 + ${r})^${tiempoConvertido.toFixed(2)}) - ${C}`;
          resultado = `Inter√©s ganado: $${interes.toFixed(2)}`;
          montoFinal = C + interes;
        }
      }

      if (resultado) {
        resultadoDiv.innerHTML = `
          <p><strong>F√≥rmula usada:</strong> ${formula}</p>
          <p><strong>Sustituci√≥n:</strong> ${sustitucion}</p>
          <p><strong>Resultado:</strong> ${resultado}</p>
          <p><strong>üí∞ Monto final:</strong> $${montoFinal.toFixed(2)}</p>
          <p>üéâ ¬°C√°lculo completado </p>
        `;
        resultadoDiv.style.display = "block";
      } else {
        errorDiv.textContent = "‚ö†Ô∏è Por favor deja solo una variable vac√≠a para calcular.";
      }
    }
  </script>

</body>
</html>
